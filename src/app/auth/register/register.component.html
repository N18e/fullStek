<div class="register-container">
  <h2 class="register-title">{{ 'auth.registerTitle' | translate }}</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
    <!-- 👤 Ім'я -->
    <app-input
      formControlName="name"
      [label]="'auth.nameLabel' | translate"
      [placeholder]="'auth.namePlaceholder' | translate"
      [isInvalid]="submitted && f.name.invalid"
    ></app-input>
    <div *ngIf="submitted && f.name.invalid" class="error-message">
      {{ 'auth.nameRequired' | translate }}
    </div>

    <!-- 📞 Телефон -->
    <app-input
      formControlName="phone"
      [label]="'auth.phoneLabel' | translate"
      placeholder="+380 00 000 00 00"
      [isInvalid]="submitted && f.phone.invalid"
    ></app-input>
    <div *ngIf="submitted && f.phone.invalid" class="error-message">
      {{ 'auth.phoneInvalid' | translate }}
    </div>

    <!-- 📧 Email -->
    <app-input
      formControlName="email"
      [label]="'auth.emailLabel' | translate"
      [placeholder]="'auth.emailPlaceholder' | translate"
      type="email"
      [isInvalid]="submitted && f.email.invalid"
    ></app-input>
    <div *ngIf="submitted && f.email.invalid" class="error-message">
      {{ 'auth.emailInvalid' | translate }}
    </div>

    <!-- 🔒 Пароль -->
    <app-input
      formControlName="password"
      [label]="'auth.passwordLabel' | translate"
      [placeholder]="'auth.passwordPlaceholder' | translate"
      type="password"
      [isInvalid]="submitted && f.password.invalid"
    ></app-input>
    <div *ngIf="submitted && f.password.invalid" class="error-message">
      {{ 'auth.passwordTooShort' | translate }}
    </div>

    <!-- 🔁 Підтвердження пароля -->
    <app-input
      formControlName="confirmPassword"
      [label]="'auth.confirmPasswordLabel' | translate"
      [placeholder]="'auth.confirmPasswordPlaceholder' | translate"
      type="password"
      [isInvalid]="submitted && f.confirmPassword.invalid || submitted && registerForm.hasError('passwordMismatch')"
    ></app-input>
    <div *ngIf="submitted && f.confirmPassword.invalid" class="error-message">
      {{ 'auth.confirmPasswordRequired' | translate }}
    </div>
    <div *ngIf="submitted && registerForm.hasError('passwordMismatch')" class="error-message">
      {{ 'auth.passwordsDoNotMatch' | translate }}
    </div>

    <!-- ❌ Помилка -->
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage | translate }}
    </div>

    <!-- ✅ Успіх -->
    <div *ngIf="successMessage" class="success-message">
      {{ successMessage | translate }}
    </div>

    <!-- 🔘 Кнопка -->
    <app-button type="submit" [disabled]="registerForm.invalid">
      {{ 'auth.registerBtn' | translate }}
    </app-button>

    <!-- 🔙 Посилання -->
    <div class="auth-links">
      <a routerLink="/auth/login">{{ 'auth.backToLogin' | translate }}</a>
    </div>
  </form>
</div>
